{"version":3,"sources":["pages.js"],"names":["pageListFilter","document","querySelector","pageList","addEventListener","f","filter","options","selectedIndex","value","firstChild","removeChild","lastChild","getXHRPromise","pitonConfig","routes","adminPageGet","then","data","insertAdjacentHTML","catch","error","console","log"],"mappings":";AAKA,IAAMA,EAAiBC,SAASC,cAAc,uBAC9C,GAAIF,EAAgB,CAEVG,IAAAA,EAAWF,SAASC,cAAc,uBAExCF,EAAeI,iBAAiB,SAAU,SAACC,GACnCC,IAAAA,EAAUN,EAAeO,QAAQP,EAAeQ,eAAeC,MAE/DH,GAAW,MAAXA,EAAgB,CAETH,KAAAA,EAASO,YACZP,EAASQ,YAAYR,EAASS,WAIlCC,cAAcC,YAAYC,OAAOC,aAAc,CAAeV,WAAAA,IACzDW,KAAK,SAACC,GACHf,EAASgB,mBAAmB,aAAcD,KAC3CE,MAAM,SAAUC,GACfC,QAAQC,IAAI,uBAAwBF","file":"pages.js","sourceRoot":"..","sourcesContent":["// --------------------------------------------------------\n// Page List JS\n// --------------------------------------------------------\n\n// Listen for page list status filter changes and reload\nconst pageListFilter = document.querySelector('.jsPageStatusFilter');\nif (pageListFilter) {\n    // If this page has a status filter, get the container div reference\n    const pageList = document.querySelector('.list-items-wrapper');\n\n    pageListFilter.addEventListener(\"change\", (f) => {\n        let filter  = pageListFilter.options[pageListFilter.selectedIndex].value;\n\n        if (filter !== 'x') {\n            // Remove existing page rows\n            while (pageList.firstChild) {\n                pageList.removeChild(pageList.lastChild);\n            }\n\n            // Get server data\n            getXHRPromise(pitonConfig.routes.adminPageGet, {'pageStatus': filter})\n                .then((data) => {\n                    pageList.insertAdjacentHTML('afterbegin', data);\n                }).catch(function (error) {\n                    console.log('Something went wrong', error);\n                });\n        }\n    });\n}\n"]}