{% extends '@admin/media/_adminMediaBase.html' %}
{% block sectionText 'mediaCategories' %}

{% block subBody %}
<form class="jsEditMediaCategory" action="{{ pathFor('adminSaveMediaCategories') }}" method="post"
  accept-charset="utf-8">
  <input type="hidden" name="{{ site.csrf.name }}" value="{{ site.csrf.value }}">
  <button class="btn btn-primary ml-2" type="submit" name="button" value="save">Save</button>
  <a class="btn btn-warning ml-2" href="{{ pathFor('adminEditMediaCategories') }}">Cancel</a>

  {% for c in page.categories %}
  <div class="form-group jsMediaCategory">
    <input type="hidden" name="id[{{ c.id }}]" value="{{ c.id }}">
    <input type="text" class="form-control" name="category[{{ c.id }}]" value="{{ c.category }}"
      placeholder="Category name" autocomplete="off">
    {% if c.id %}
    <button class="btn btn-sm btn-outline-danger" type="button" name="button" value="{{ c.id }}">Delete</button>
    {% endif %}
  </div>
  {% endfor %}

  {# Extra empty form on page load to add a newn category #}
  <div class="form-group input-group jsMediaCategory">
    <input type="hidden" name="id[{{ c.id }}]" value="{{ c.id }}">
    <input type="text" class="form-control" name="category[{{ c.id }}]" value="{{ c.category }}"
      placeholder="Category name" autocomplete="off">
    {% if c.id %}
    <button class="btn btn-sm btn-outline-danger" type="button" name="button" value="{{ c.id }}">Delete</button>
    {% endif %}
  </div>
</form>
{% endblock subBody %}