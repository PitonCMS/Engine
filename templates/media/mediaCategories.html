{% extends '@admin/media/_adminMediaBase.html' %}

{% block subBody %}
<form class="jsEditMediaCategory" action="{{ pathFor('adminSaveMediaCategories') }}" method="post"
  accept-charset="utf-8">
  <input type="hidden" name="{{ site.csrf.name }}" value="{{ site.csrf.value }}">
  <button class="btn btn-primary ml-2" type="submit" name="button" value="save">Save</button>
  <a class="btn btn-warning ml-2" href="{{ pathFor('adminEditMediaCategories') }}">Cancel</a>

  {% for c in page.categories %}
  <div class="form-group input-group jsMediaCategory">
    <input type="hidden" name="id[{{ c.id }}]" value="{{ c.id }}">
    <input type="text" class="form-control" name="category[{{ c.id }}]" value="{{ c.category }}" placeholder="Category name" autocomplete="off">
    {% if c.id %}
    <div class="input-group-append">
      <div class="input-group-text">
        <input type="checkbox" id="catid-{{ c.id }}" class="mr-2" name="delete[{{ c.id }}]" value="delete" title="Deletes on save">
        <label>Delete</label>
      </div>
    </div>
    {% endif %}
  </div>
  {% endfor %}

  {# Extra empty form on page load to add a newn category #}
  <div class="form-group input-group jsMediaCategory">
    <input type="hidden" name="id[{{ c.id }}]" value="{{ c.id }}">
    <input type="text" class="form-control" name="category[{{ c.id }}]" value="{{ c.category }}" placeholder="Category name" autocomplete="off">
    {% if c.id %}
    <div class="input-group-append">
        <div class="input-group-text">
          <input type="checkbox" id="catid-{{ c.id }}" class="mr-2" name="delete[{{ c.id }}]" value="delete" title="Deletes on save">
          <label>Delete</label>
        </div>
    </div>
    {% endif %}
  </div>
</form>
{% endblock subBody %}