{#
  Message Row Macro
  @param object message
#}
{% macro messageRow(message) %}
{% set faIcon = (message.isRead == 'N') ? 'fa-envelope' : (message.isRead == 'Y' ? 'fa-envelope-open' : 'fa-archive') %}

<div class="message-block" data-message="parent" data-message-id="{{ message.id }}">
  <div class="message-wrapper">
    <div class="message-header span">
      <div class="message-link">
        <a href="mailto:{{ message.email }}" target="_blank">
          <i class="fas {{ faIcon }}"></i>&nbsp;&nbsp;{{ message.name }}</a>
      </div>

      <div class="message-date">
        Sent:&nbsp;&nbsp;{{ message.createdDate|date('d F Y h:i a') }}
      </div>

      <div class="message-origin">
        Via:&nbsp;&nbsp; {{ message.context|default('Unknown Page') }}
      </div>
    </div>

    <div class="message-content">
      <p>{{ message.message|nl2br }}</p>
    </div>

    <div class="btn-group" action="{{ pathFor('adminMessageSave') }}">
      <button class="btn btn-block btn-delete" type="button" title="Delete message">Delete</button>
      <button class="btn btn-block btn-warning" type="button" title="Archive message">Archive</button>
      <button class="btn btn-block btn-save" type="button"
        data-is-read="{{ message.isRead }}">Mark as {% if message.isRead == 'Y' %}Unread{% else %}Read{% endif %}
      </button>
    </div>
  </div>

</div>
{% endmacro messageRow %}