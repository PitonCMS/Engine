{# Summary card for Pages and Collection Pages #}

<div class="card">
  <div class="card-header">
    <h5 class="card-title">{{ p.title }}
      {% if p.getPublishedStatus() == 'draft' %}
      <span class="badge badge-secondary" title="Not published">Draft</span>
      {% elseif p.getPublishedStatus() == 'pending' %}
      <span class="badge badge-warning" title="Pending publish on {{ p.published_date|date }}">Pending</span>
      {% elseif p.getPublishedStatus() == 'published' %}
      <span class="badge badge-success" title="Published on {{ p.published_date|date }}">Published</span>
      {% endif %}
    </h5>
    <h6 class="card-subtitle text-muted small">URL:
      <code>{{ p.collection_slug ? '/' ~ p.collection_slug}}/{{ p.page_slug }}</code></h6>
  </div>
  <div class="card-body">
    <p class="card-text">{{ p.meta_description|default('Missing Meta Description!') }}</p>
    {% set editRoute = page.type == 'page' ? 'adminEditPage' : 'adminEditCollectionPage' %}
    <a class="card-link btn btn-sm btn-primary" href="{{ pathFor(editRoute, {'id': p.id}) }}">Edit Page</a>
  </div>
</div>