{% extends '@admin/includes/_adminBase.html' %}

{% block body %}

  <div class="row">
    <div class="col">
    <h1>Pages</h1>
    <a href="{{ pathFor('editPage') }}">Add Page</a>
    <hr>

    {% for p in pages %}
    <div class="card mb-4" style="width: 18rem;">
      <div class="card-header">
        <span class="h5 card-title">{{ p.title }}</span>
      </div>
      <div class="card-body">
        <h6 class="card-text"><i>/{{ p.url }}</i></h6>
        <p class="card-text">{{ p.meta_description|default('Missing Meta Description!') }}</p>
        <a class="card-link" href="{{ pathFor('editPage', {'id': p.id}) }}">Edit Page</a>
        <hr>
        <a class="card-link" href="{{ pathFor('editPageElement') }}?page_id={{ p.id }}">Add Element</a>
        {% for el in p.elements %}
        <a class="card-link" href="{{ pathFor('editPageElement', {'id': el.id}) }}">{{ el.name }}</a>
        {% endfor %}
      </div>
    </div>
    {% else %}
    <strong>No pages found</strong>
    {% endfor %}
  </div>
</div>

{% endblock %}