{% extends '@admin/_adminBase.html' %}

{% block htmlTitle 'Users' %}
{% block headText %}Manage Users{% endblock %}
{% block sectionId 'tools' %}

{% block sidebar %}
  {% include "@admin/tools/_toolsSidebar.html" %}
{% endblock sidebar %}

{% block content %}
<div class="row">
  <div class="col">
    <form class="jsUserForm" action="{{ pathFor('adminSaveUsers') }}" method="post" accept-charset="utf-8">
      {% for user in page %}
      <div class="form-group form-row">
        <div class="col-4">
          <input type="email" class="form-control" name="email[]" maxlength="60" value="{{ user.email }}"
            autocomplete="off">
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="checkbox" id="adminCheck" {{ checked(user.admin) }}>
          <label class="form-check-label" for="adminCheck">
            Administrator
          </label>
        </div>
        <a class="btn btn-danger ml-2 jsDeleteConfirm" href="{{ pathFor('adminDeleteUser', {'id': user.id}) }}">Delete
          User</a>
      </div>
      {% endfor %}
      <div class="form-group">
        <button type="button" class="btn btn-success jsAddUserRow">Add User</button>
      </div>
      <hr>
      <a class="btn btn-warning" href="{{ pathFor('adminHome') }}">Cancel</a>
      <button type="submit" name="button" class="btn btn-primary">Save Users</button>
    </form>
  </div>
</div>
{% endblock content %}